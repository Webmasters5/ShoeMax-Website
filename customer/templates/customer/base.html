{% extends 'BaseTemplate/nav.html' %}
{% load static %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'customer/static/css/styles.css' %}?v=4">
<style>
/* Hide the fixed navbar and offcanvas sidebar from BaseTemplate on dashboard pages */
body.dashboard-layout .navbar,
body.dashboard-layout .offcanvas {
    display: none !important;
}

/* ===== DASHBOARD TOP NAV ===== */
.dashboard-nav {
    background-color: #1f2937;
    padding: 0.5rem 1rem;
    border-radius: 0.5rem;
    margin: 15px;
}

.dashboard-nav .dashboard-link {
    display: inline-block;
    background-color: #111827;
    color: #fff;
    padding: 8px 16px;
    border-radius: 0.5rem;
    text-decoration: none;
    transition: background 0.2s, transform 0.1s;
    font-weight: 500;
    margin-right: 8px;
}

.dashboard-nav .dashboard-link:hover {
    background-color: #2563eb;
    color: #fff;
    transform: translateY(-1px);
}

.dashboard-nav .dashboard-link.active {
    background-color: #0d6efd;
    color: #fff;
}

.dashboard-nav form button {
    padding: 6px 14px;
    border-radius: 0.5rem;
    font-size: 0.9rem;
}

/* ===== DASHBOARD CONTENT ===== */
.dashboard-content {
    padding: 25px 30px;
    min-height: calc(100vh - 80px);
}
</style>
{% endblock %}

{% block content %}
<div class="container-fluid p-0 dashboard-layout">

    <!-- DASHBOARD TOP NAV -->
    <nav class="dashboard-nav mb-4">
        <div class="d-flex flex-wrap align-items-center gap-2 px-3 py-2">
            <a href="{% url 'homepage:home' %}" class="dashboard-link {% if request.resolver_match.url_name == 'home' %}active{% endif %}">Home</a>
            <a href="{% url 'customer:customer_profile' %}" class="dashboard-link {% if request.resolver_match.url_name == 'customer_profile' %}active{% endif %}">Profile</a>
            <a href="{% url 'customer:customer_orders' %}" class="dashboard-link {% if request.resolver_match.url_name in 'customer_orders customer_order_detail' %}active{% endif %}">Orders</a>
            <a href="{% url 'products:wishlist' %}" class="dashboard-link {% if request.resolver_match.url_name == 'wishlist' %}active{% endif %}">Wishlist</a>
            <a href="{% url 'customer:customer_password' %}" class="dashboard-link {% if request.resolver_match.url_name == 'customer_password' %}active{% endif %}">Change Password</a>
            <a href="{% url 'customer:customer_notifications' %}" class="dashboard-link {% if request.resolver_match.url_name == 'customer_notifications' %}active{% endif %}">Notifications</a>
            <a href="{% url 'customer:customer_settings' %}" class="dashboard-link {% if request.resolver_match.url_name == 'customer_settings' %}active{% endif %}">Settings</a>
            <a href="{% url 'customer:customer_payment_methods' %}" class="dashboard-link {% if request.resolver_match.url_name == 'customer_payment_methods' %}active{% endif %}">Settings</a>
            <a href="{% url 'customer:address_list' %}" class="dashboard-link {% if request.resolver_match.url_name == 'address_list' %}active{% endif %}">Settings</a>

            
            <form action="{% url 'customer:logout' %}" method="post" class="d-inline ms-auto">
                {% csrf_token %}
                <button type="submit" class="btn btn-danger btn-sm">Logout</button>
            </form>
        </div>
    </nav>

    <!-- DASHBOARD CONTENT -->
    <main class="dashboard-content px-3">
        {% block dashboard_content %}{% endblock %}
    </main>

</div>
{% endblock %}
