{% extends "admin/base_site.html" %}
{% load static %}
{% block extrastyle %}
  <link rel="stylesheet" href="{% static "admin/dashboard.css" %}">
{%endblock %}
{% block content %}
<h1 class="dashboard-heading">Admin Dashboard</h1>

<div class="dashboard-container">
  <div class="card">
    <h3>Total Customers</h3>
    <p class="stat-value--customers">{{ total_customers }}</p>
  </div>

  <div class="card card--large">
    <h3>Total Orders</h3>
    <p class="stat-value--orders">{{ total_orders }}</p>

    <table class="summary-table">
      <thead>
        <tr>
          <th>Status</th>
          <th class="text-right">Count</th>
          <th class="text-right">Percent</th>
        </tr>
      </thead>
      <tbody>
        {% for status, data in status_summary.items %}
        <tr>
          <td>{{ status }}</td>
          <td class="text-right">{{ data.count }}</td>
          <td class="text-right">{{ data.percent }}%</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <div class="card">
    <h3>Total Sales</h3>
    <p class="stat-value--sales">${{ total_sales }}</p>
  </div>
</div>

<section style="margin-top:1.25rem">
  <h3>Top Sold Items</h3>
  {% if most_sold %}
    <ol>
      {% for item in most_sold %}
        <li>
          {{ item.product_name }} â€” <strong>{{ item.total_sold }}</strong> sold
        </li>
      {% endfor %}
    </ol>
  {% else %}
    <p>No sales yet.</p>
  {% endif %}
</section>

{% endblock %}